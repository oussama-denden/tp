<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project activeEnvironment="Default" name="Topaze-Qualif" soapui-version="4.6.4" abortOnError="false" runType="SEQUENTIAL" resourceRoot="" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="Happy Path Testing"/>
  <con:entry key="Password" value=""/>
  <con:entry key="soapui-setings.xml Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="HappyPathTesting"/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value=""/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://10.100.109.32:8180" type="rest" id="5c95b445-9f3c-4bd3-b057-555e75fb5972" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://10.100.109.32:8180</con:endpoint></con:endpoints><con:resource name="Preparation" path="/contrat-core/contrat/preparer" id="92004666-886d-4622-9cf1-61fb5025cbb5"><con:settings/><con:parameters/><con:method name="" method="POST" id="5f02faca-cf2b-455a-b4f7-8d7f7b19f008"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 400 500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:prep="http://10.100.109.32/topaze-contrat/contrat/preparer">prep:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>404</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>404</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>404</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Preparer" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>[
 {
  "reference": "jet",
  "numEC" : "1",
  "numeroCommande": "order-01",
  "label": "Connexion Satellite Jet 10",
  "typeProduit": "SERVICE",
  "prix": {
	"engagement": "24",
	"periodicite": "1",
	"typeTVA": "R",
	"montant": "30",
	"frais": [
	  {
		"montant": "50",
		"typeFrais": "creation"
	  },
	  {
		"montant": "30",
		"typeFrais": "resiliation"
	  }
	],
	"modePaiement": "SEPA",
	"modeFacturation": "PREMIER_MOIS"
  }
 },
 {
  "reference": "option.plus.50g",
  "numEC" : "2",
  "numeroCommande": "order-01",
  "label": "Option Plus 50Go",
  "typeProduit": "SERVICE",
  "prix": {
	"periodicite": "1",
	"typeTVA": "R",
	"montant": "24",
	"modePaiement": "SEPA",
	"modeFacturation": "PREMIER_MOIS"
  },
  "refProduitParent": "jet"
 }
]</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:request name="Demo - Preparer" mediaType="application/json" postQueryString="false" id="7e8cfe53-72a4-4424-beea-8afb9dc13250"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "numeroCommande": "12345",
      "label": "Abonnement jet 10Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="Validation" path="/contrat-core/contrat/{refContrat}/valider" id="2c463ba8-c720-4fb9-94c8-f731d20f05c8"><con:settings/><con:parameters><con:parameter><con:name>refContrat</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/></con:parameter></con:parameters><con:method name="" method="POST" id="f0bd7e8d-6638-43ed-95a3-9b1cea53c0ea"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 500 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:val="http://10.100.109.32/topaze-contrat/contrat/eaaec4b5/valider">val:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Valider" mediaType="application/json" postQueryString="false" id="45acbbc6-0e68-4a28-9c86-c45d0e31ccb6"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": {"fraisCreation": "true"}
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="70ffff66" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>refContrat</con:entry></con:parameterOrder></con:request><con:request name="Demo - Valider" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="d73dfefb" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource><con:resource name="Resiliation" path="/contrat-core/contrat/{refContrat}/resilier" id="331ac544-5d17-41a5-94b3-9af80199bd0e"><con:settings/><con:parameters><con:parameter><con:name>refContrat</con:name><con:value>refContrat</con:value><con:style>TEMPLATE</con:style><con:default>refContrat</con:default></con:parameter></con:parameters><con:method name="" method="POST" id="685848e7-80b2-43a9-85ca-4d089a254815"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:res="http://10.100.109.32/topaze-contrat/contrat/eaaec4b5/resilier">res:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>400 404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Resiliation Totale" mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"fraisResiliation": "true", 
		"montantResiliation" : "50",
		"typeResiliation": "RIC", 
		"remboursement": "true",
		"penalite": "true"
	}
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="70ffff66" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Demo - Resilier" mediaType="application/json" postQueryString="false" id="d0f5d2ba-afa1-4666-b4f3-d1c5935d6902"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"fraisResiliation": "true", 
		"montantResiliation" : "50",
		"typeResiliation": "RIC", 
		"remboursement": "true",
		"penalite": "true"
	}
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="948f9a87" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource><con:resource name="Resiliation Partielle" path="/contrat-core/contrat/{refContrat}/partiel/{refProduit}/resilier" id="22ca295f-aa22-4b68-8da6-492506d65cfe"><con:settings/><con:parameters><con:parameter><con:name>refContrat</con:name><con:value>refContrat</con:value><con:style>TEMPLATE</con:style><con:default>refContrat</con:default></con:parameter><con:parameter><con:name>refProduit</con:name><con:value>refProduit</con:value><con:style>TEMPLATE</con:style><con:default>refProduit</con:default></con:parameter></con:parameters><con:method name="" method="POST" id="fd3b6a16-dc52-4c78-8d23-8a338c498105"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:res="http://10.100.109.32/topaze-contrat/contrat/d73dfefb/partiel/kit-sat/resilier">res:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Resiliation Partielle" mediaType="application/json" postQueryString="false" id="8eceb09f-8db3-49fc-93fc-3b0998c3f17f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"fraisResiliation": "true", 
		"montantResiliation" : "50",
		"typeResiliation": "RIC", 
		"remboursement": "true",
		"penalite": "true"
	}
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refContrat" value="d73dfefb"/>
  <con:entry key="refProduit" value="kit-sat"/>
</con:parameters></con:request></con:method></con:resource><con:resource name="ajouterReduction" path="/contrat-core/contrat/{refContrat}/ajouterReduction" id="3212138a-794e-4580-af33-7d9237ae2ec7"><con:settings/><con:parameters><con:parameter><con:name>refContrat</con:name><con:value>refContrat</con:value><con:style>TEMPLATE</con:style><con:default>refContrat</con:default></con:parameter></con:parameters><con:method name="" method="POST" id="792d3f96-5a3e-4792-8693-4ef8f6bbba0a"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>400 500 404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ajo="http://10.100.109.32/contrat-core/contrat/66b3d739/ajouterReduction">ajo:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Creer Reduction 5€ sur contrat" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "EURO"
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="66b3d739" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Creer Reduction 5€ sur contrat utilisable 3 fois" mediaType="application/json" postQueryString="false" id="5307c583-409c-450d-9a9c-3edfaaef0e30"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "EURO",
"nbUtilisationMax" : "3"
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="66b3d739" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Creer Reduction 5€ sur contrat utilisable pendant une période" mediaType="application/json" postQueryString="false" id="ae2ef9bb-b9dd-450c-92f1-78593147b82f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "EURO",
"dateDebut" : "2014-08-01",
"dateFin" : "2014-09-01"
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="3447eaa5" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Creer Reduction 5% sur contrat pendant une période" mediaType="application/json" postQueryString="false" id="894d2edf-a858-4c40-9ec2-cae46fb7346b"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "POURCENTAGE",
"dateDebut" : "2014-08-01",
"dateFin" : "2014-09-01"
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="2f1cf686" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Creer Reduction 5% sur contrat utilisable 2 fois" mediaType="application/json" postQueryString="false" id="a4321c13-49f7-4627-bc6f-74c006dd2678"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "POURCENTAGE",
"nbUtilisationMax" : "3"
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="2f1cf686" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Creer Reduction 5% sur contrat" mediaType="application/json" postQueryString="false" id="fc77e092-8ebb-42e0-87c8-865abd497b56"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "POURCENTAGE"
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="2f1cf686" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Creer Réduction Frais de création" mediaType="application/json" postQueryString="false" id="94da1623-685a-48f6-8aaf-4b3a4e9be482"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "typeReduction": "FRAIS",
  "valeur": "100",
  "typeValeur": "POURCENTAGE",
  "nbUtilisationMax": 1,
  "typeFrais": "CREATION"
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="053728b9" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Creer Réduction Frais de résiliation" mediaType="application/json" postQueryString="false" id="94da1623-685a-48f6-8aaf-4b3a4e9be482"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "FRAIS",
"typeFrais" : "RESILIATION",
"valeur" : "100",
"typeValeur" : "POURCENTAGE",
"nbUtilisationMax": 1
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="3a98fbaa" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Creer Réduction Frais de migration" mediaType="application/json" postQueryString="false" id="94da1623-685a-48f6-8aaf-4b3a4e9be482"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "FRAIS",
"typeFrais" : "MIGRATION",
"valeur" : "100",
"typeValeur" : "POURCENTAGE",
"nbUtilisationMax": 1
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="3a98fbaa" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Creer Reduction 1 mois gratuit sur contrat" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "1",
"valeur" : "1"
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="053728b9" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Creer Reduction 3 factures gratuites pour une période de 1 mois" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "3",
"valeur" : "1"
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="053728b9" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request><con:request name="Creer Reduction 1 facture gratuite pour une période de 3 mois" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "1",
"valeur" : "3"
}</con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="053728b9" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:testSuite name="Happy Path Testing" id="84e7773b-27a7-4f2c-a4f9-a2773a3a66fa"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Creer Jet - Option+ - Kit" searchProperties="true" id="c3134394-ecff-433e-9aed-7a7b112617c3"><con:settings/><con:testStep type="groovy" name="SetRefCommande" id="d69f47bd-9b0f-4a8c-8746-20cc2d3c385f"><con:settings/><con:config><script>import static java.util.UUID.randomUUID
def tc = context.testCase
uuid = randomUUID().toString()
testRunner.testCase.setPropertyValue( "RefCommande", uuid )
log.info testRunner.testCase.getPropertyValue("RefCommande")</script></con:config></con:testStep><con:testStep type="properties" name="InfosContrat" id="14a97eb8-e35f-4019-bc10-69e9b9f12d34"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>refContrat</con:name><con:value>ab2fc189</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="Preparer" id="1875f180-4586-423b-8fb0-65eb259691dd"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Preparer" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "numeroCommande": "${#TestCase#RefCommande}",
      "label": "Abonnement jet 10Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent": "jet",
      "numeroCommande": "${#TestCase#RefCommande}",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "1",
      "refProduitParent": "jet",
      "numeroCommande": "${#TestCase#RefCommande}",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XQuery Match" name="Check Abonnement - Location - Vente" id="a7be7707-e837-44f7-945e-e70b793fee11"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';

&lt;Results>
{
for $x in //ns1:sousContrats/ns1:e
order by $x/referenceProduit
return &lt;t>{$x/ns1:typeContrat/text()}&lt;/t>
}
&lt;/Results></path><content><![CDATA[<Results>
  <t>LOCATION</t>
  <t>ABONNEMENT</t>
  <t>ABONNEMENT</t>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Statut = PREPARER" id="70a0d4a1-8263-4c9b-bdfd-b2acdf3b3367"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';

&lt;Results>
{
for $x in //ns1:sousContrats/ns1:e
return &lt;result>{$x/ns1:statut/text()}&lt;/result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <result>PREPARER</result>
  <result>PREPARER</result>
  <result>PREPARER</result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfert Ref Contrat" id="d553a6f4-7f7e-4272-b845-976dc48fe0d9"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>Ref Contrat</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Preparer</con:sourceStep><con:sourcePath>declare namespace nsa='http://10.100.109.32/contrat-core/contrat/preparer';
//nsa:reference</con:sourcePath><con:targetType>refContrat</con:targetType><con:targetStep>InfosContrat</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>Ref Contrat Global</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Preparer</con:sourceStep><con:sourcePath>declare namespace nsa='http://10.100.109.32/contrat-core/contrat/preparer';
//nsa:reference</con:sourcePath><con:targetType>RefContrat</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="jdbc" name="Contrat Prepare" id="81201031-b0ac-4aee-93e7-168eb2bebcd6"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select * from contrat
where reference = "${InfosContrat#refContrat}"</con:query><con:assertion type="Simple Contains" name="DatePreparation is NOT NULL"><con:configuration><token>&lt;CONTRAT.DATEPREPARATION></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Reference Contrat"><con:configuration><path>&lt;Result>
{
for $i in //Row
return $i/CONTRAT.REFERENCE/string()
}
&lt;/Result></path><content>&lt;Result>${InfosContrat#RefContrat}&lt;/Result></content><allowWildcards>true</allowWildcards></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Valider" id="ac49a50a-ed9d-4039-afa3-4ecc97712327"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Valider" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00003870",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": {"fraisCreation": "true"},
  "user" : "test"
}</con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="0f6e79cf-8018-4a81-85f1-bbff3ac5c7ed"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Response must be empty" id="a3a7df0f-94f6-4f97-a1e8-611066164e23"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${InfosContrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>refContrat</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Politique Validation" id="9afd1903-d36b-4d85-bd5f-bc3cf046d351"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select *
from politiquevalidation
where contratId = 
  (select Id from contrat where reference = "${InfosContrat#refContrat}")</con:query><con:assertion type="Simple Contains" name="Frais Création = True"><con:configuration><token>&lt;POLITIQUEVALIDATION.FRAISCREATION>1&lt;/POLITIQUEVALIDATION.FRAISCREATION></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="delay" name="Wait for beginning Livraison" id="52ff2ba7-4dd6-4a6d-b90c-c4f2b762a2a6"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="jdbc" name="Bon de Livraison - exists" id="34b9fb1c-8fa5-496e-a343-5fc70ae48f64"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select * from bonpreparation
where reference = "${InfosContrat#refContrat}"</con:query><con:properties/></con:config></con:testStep><con:testStep type="goto" name="Go Beginning Livraison" id="3040754b-f95f-4680-8e38-6e8cf27d8bf6"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Wait Facturation</con:name><con:type>XPATH</con:type><con:expression>not(//Results/ResultSet/Row/BONPREPARATION.DATEINITIATION/text())</con:expression><con:targetStep>Wait for beginning Livraison</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="jdbc" name="Elements de Livraison" id="eb61f215-1646-44de-a994-1f2af4c4b3ae"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select * from elementlivraison
where reference LIKE "${InfosContrat#refContrat}%"</con:query><con:assertion type="XQuery Match" name="Acteurs=NetDelivery ou Packager"><con:configuration><path>&lt;Results>
{
for $x in //Row
order by $x/ELEMENTLIVRAISON.TYPECONTRAT
return &lt;result>{$x/ELEMENTLIVRAISON.ACTEUR/text()}&lt;/result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <result>PACKAGER</result>
  <result>PACKAGER</result>
  <result>NETDELIVERY</result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Reference Contrat"><con:configuration><path>&lt;Results>
{
for $x in //Row
order by $x/ELEMENTLIVRAISON.REFERENCEPRODUIT
return &lt;result>{$x/ELEMENTLIVRAISON.REFERENCE/text()}&lt;/result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <result>${InfosContrat#refContrat}-1</result>
  <result>${InfosContrat#refContrat}-3</result>
  <result>${InfosContrat#refContrat}-2</result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="TypeEL=Livraison"><con:configuration><path>&lt;Results>
{
for $x in //Row
return &lt;Result>{$x/ELEMENTLIVRAISON.TYPEBONPREPARATION/text()}&lt;/Result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <Result>LIVRAISON</Result>
  <Result>LIVRAISON</Result>
  <Result>LIVRAISON</Result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="delay" name="Wait for end Livraison" id="fa5d126f-3223-4e2f-875e-a2f7d3cae8a5"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="jdbc" name="Bon de Livraison" id="9de4e52c-f4cc-486e-a491-3140b770c7dc"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select * from bonpreparation
where reference = "${InfosContrat#refContrat}"</con:query><con:assertion type="XPath Match" name="Date Initiation"><con:configuration><path>exists(//Row/BONPREPARATION.DATEINITIATION)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="TypeBonPreparation=Livraison"><con:configuration><path>//Row/BONPREPARATION.TYPEBONPREPARATION</path><content>LIVRAISON</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Aucune Erreur de Livraison"><con:configuration><path>&lt;BONPREPARATION.CAUSENONLIVRAISON/></path><content/><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="goto" name="Go End Livraison" id="33360129-ec39-4ab3-a79b-1e384446b993"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Wait Facturation</con:name><con:type>XPATH</con:type><con:expression>not(//Results/ResultSet/Row/BONPREPARATION.DATETERMINE/text())
and
not(//Results/ResultSet/Row/BONPREPARATION.CAUSENONLIVRAISON/text())</con:expression><con:targetStep>Wait for end Livraison</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="jdbc" name="Elements de Livraison - Livré" id="96aac9b0-b84f-4178-b627-29702aba12ef"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select * from elementlivraison
where reference LIKE "${InfosContrat#refContrat}%"</con:query><con:assertion type="Simple NotContains" name="Tous les éléments livrés"><con:configuration><token>&lt;ELEMENTLIVRAISON.DATETERMINE/></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="XPath Match" name="1 seul Code Produit"><con:configuration><path>count(//Row[ELEMENTLIVRAISON.TYPEELEMENT="SERVICE"]/ELEMENTLIVRAISON.CODEPRODUIT/text())</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XQuery Match" name="1 seul Code Colis"><con:configuration><path>count(//Row[ELEMENTLIVRAISON.TYPEELEMENT="BIEN"]/ELEMENTLIVRAISON.CODECOLIS/text())</path><content>&lt;xml-fragment>1&lt;/xml-fragment></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="properties" name="InfosFacture" id="cef7ae30-d91f-42a9-ade2-bd0c460458e5"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>DateLivraison</con:name><con:value>2014-07-30 17:48:00.0</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Transfert Date Livraison" id="4d092823-03ed-47c8-b45c-2a820651d0b1"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>DateLivraison</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Bon de Livraison</con:sourceStep><con:sourcePath>//Results/ResultSet/Row/BONPREPARATION.DATETERMINE/text()</con:sourcePath><con:targetType>DateLivraison</con:targetType><con:targetStep>InfosFacture</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="delay" name="Wait for end Facturation" id="6fb19312-60ff-420e-b7cb-459b1330a992"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="jdbc" name="Facturation-exists" id="e9e9be87-b784-481c-ab73-059dd5acb1b5"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.105.41:3306/test_saphir?user=test&amp;password=test</con:connectionString><con:query>select * from movement 
where accountId = '00003870'
  and billinggroup = "${#TestCase#RefCommande}"
 ;</con:query><con:properties/></con:config></con:testStep><con:testStep type="goto" name="Go Facturation" id="35313b63-309a-4fba-84b8-c30cd73ef3e2"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Wait Facturation</con:name><con:type>XPATH</con:type><con:expression>not(//Results/ResultSet/Row/MOVEMENT.ID/text())</con:expression><con:targetStep>Wait for end Facturation</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="jdbc" name="Facturation-valid" id="13bee938-5b74-40aa-b44f-658c8beed2a9"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.105.41:3306/test_saphir?user=test&amp;password=test</con:connectionString><con:query>select * from movement 
where accountId = '00003870'
  and billinggroup = "${#TestCase#RefCommande}"
 ;</con:query><con:assertion type="XQuery Match" name="Frais de Création - amount"><con:configuration><path><![CDATA[<Results>
{
for $x in //Row[contains(MOVEMENT.PRODUCTID/text(), 'Frais/Creation')]
return <result><label>{$x/MOVEMENT.PRODUCTLABEL/text()}</label><productId>{$x/MOVEMENT.PRODUCTID/text()}</productId><amount>{$x/MOVEMENT.AMOUNT/text()}</amount></result>
}
</Results>]]></path><content><![CDATA[<Results>
  <result>
    <label>Frais Creation</label>
    <productId>jet/Frais/Creation</productId>
    <amount>30.000000</amount>
  </result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Frais de Création - tva"><con:configuration><path>&lt;Results>
{
for $x in //Row[contains(MOVEMENT.PRODUCTID/text(), 'Frais/Creation')]
return &lt;result>{$x/MOVEMENT.VAT_TYPE/text()}&lt;/result>
}
&lt;/Results></path><content>&lt;Results>
  &lt;result>R&lt;/result>
&lt;/Results></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Frais de Création - RUM + PaymentType"><con:configuration><path><![CDATA[<Results>
{
for $x in //Row[contains(MOVEMENT.PRODUCTID/text(), 'Frais/Creation')]
return <result><rum>{$x/MOVEMENT.RUM/text()}</rum><payementType>{$x/MOVEMENT.PAYMENT_TYPE/text()}</payementType></result>
}
</Results>]]></path><content><![CDATA[<Results>
  <result>
    <rum>R0000012</rum>
    <payementType>SEPA</payementType>
  </result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Frais de Création - TransactionType"><con:configuration><path>&lt;Results>
{
for $x in //Row[contains(MOVEMENT.PRODUCTID/text(), 'Frais/Creation')]
return &lt;result>{$x/MOVEMENT.TRANSACTIONTYPE/text()}&lt;/result>
}
&lt;/Results></path><content>&lt;Results>
  &lt;result>DEBIT&lt;/result>
&lt;/Results></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Frais de Création - Period"><con:configuration><path>&lt;Results>
{
for $x in //Row[contains(MOVEMENT.PRODUCTID/text(), 'Frais/Creation')]
return &lt;result>{$x/MOVEMENT.STARTFROM} {$x/MOVEMENT.ENDTO}&lt;/result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <result>
    <MOVEMENT.STARTFROM>${=new java.text.SimpleDateFormat("yyyy-MM-dd HH:mm:ss.S").parse('${InfosFacture#DateLivraison}').format('yyyy-MM-dd')}</MOVEMENT.STARTFROM>
    <MOVEMENT.ENDTO>${=new java.text.SimpleDateFormat("yyyy-MM-dd HH:mm:ss.S").parse('${InfosFacture#DateLivraison}').format('yyyy-MM-dd')}</MOVEMENT.ENDTO>
  </result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:loadTest name="Test Create" id="8daf10df-289f-46c1-ae6e-f627be1dede9"><con:settings/><con:threadCount>50</con:threadCount><con:startDelay>0</con:startDelay><con:sampleInterval>250</con:sampleInterval><con:calculateTPSOnTimePassed>true</con:calculateTPSOnTimePassed><con:resetStatisticsOnThreadCountChange>true</con:resetStatisticsOnThreadCountChange><con:historyLimit>-1</con:historyLimit><con:testLimit>60</con:testLimit><con:limitType>TIME</con:limitType><con:loadStrategy><con:type>Simple</con:type></con:loadStrategy><con:assertion type="Step Status" name="Step Status"/><con:maxAssertionErrors>100</con:maxAssertionErrors><con:cancelExcessiveThreads>true</con:cancelExcessiveThreads><con:strategyInterval>500</con:strategyInterval></con:loadTest><con:properties><con:property><con:name>RefCommande</con:name><con:value>a4b31631-4612-4e16-b6ff-2580382b613a</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>ab2fc189</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Resilier" searchProperties="true" id="71c774c7-3fe9-416e-aaf6-86ebc76b4d14"><con:settings/><con:testStep type="calltestcase" name="CreerContrat" id="4e02876a-1392-4fc6-b013-00a2198192c6"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c3134394-ecff-433e-9aed-7a7b112617c3</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>77f74d9b-50ae-47e4-a157-2cf17ca27ac3</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>1f392c61</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Resilier Contrat" id="6eea6554-9d59-4567-b906-a58155c6b43d"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Resilier Contrat" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : {
	"fraisResiliation": "true", 
	"montantResiliation" : "",
	"typeResiliation": "RIC", 
	"remboursement": "true",
	"montantDefini": "",
	"penalite": "true",
	"commentaire" : "this is a test"
	}
}</con:request><con:assertion type="Valid HTTP Status Codes" name="Code Retour 200" id="20b95fed-f66f-4685-bce1-6e0a1d92ffad"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Response must be empty" id="6ca1ddfa-7b0f-48d8-b5fa-1642229ad752"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${CreerContrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Politique Resiliation" id="2863d5b9-a4f4-4dca-b281-0c360acc7cea"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select *
from politiqueresiliation
where id = 
  (select politiqueResiliationId from contrat where reference = "${CreerContrat#RefContrat}")</con:query><con:assertion type="Simple Contains" name="Commentaire"><con:configuration><token>&lt;POLITIQUERESILIATION.COMMENTAIRE>this is a test&lt;/POLITIQUERESILIATION.COMMENTAIRE></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Cascade=True"><con:configuration><token>&lt;POLITIQUERESILIATION.ENCASCADE>1&lt;/POLITIQUERESILIATION.ENCASCADE></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Contrat Resilie" id="eb24ee75-f076-4887-ac15-77d6536fbb42"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select date_format(c.datefincontrat, '%Y-%m-%d') as "datefinContrat" 
from contrat c
where c.reference = "${CreerContrat#RefContrat}"</con:query><con:assertion type="XQuery Match" name="Date Fin Contrat = Now()"><con:configuration><path>&lt;Results>
{
for $x in //Row
return &lt;result>{$x/DATEFINCONTRAT/text()}&lt;/result>
}
&lt;/Results></path><content>&lt;Results>
  &lt;result>${=new java.text.SimpleDateFormat("yyyy-MM-dd").format(new Date())}&lt;/result>
&lt;/Results></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="EC Resilie" id="089e5108-7060-46eb-b3da-ba6f44c91163"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select date_format(c.datefincontrat, '%Y-%m-%d') as "datefinContrat" 
from elementcontractuel c
where c.reference LIKE "${CreerContrat#RefContrat}%"</con:query><con:assertion type="XQuery Match" name="Date Fin Contrat = Now()"><con:configuration><path>&lt;Results>
{
for $x in //Row
return &lt;result>{$x/DATEFINCONTRAT/text()}&lt;/result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <result>${=new java.text.SimpleDateFormat("yyyy-MM-dd").format(new Date())}</result>
  <result>${=new java.text.SimpleDateFormat("yyyy-MM-dd").format(new Date())}</result>
  <result>${=new java.text.SimpleDateFormat("yyyy-MM-dd").format(new Date())}</result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="delay" name="Wait for beginning Retour" id="6531dc23-ac74-4bdc-884e-12c749f75379"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="jdbc" name="EL de retour" id="3ee40f40-faee-4006-8ec3-3d4bd5f81c85"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select *
from elementlivraison
where reference LIKE "re-${CreerContrat#RefContrat}%"</con:query><con:assertion type="XQuery Match" name="TypeEL=Retour"><con:configuration><path>&lt;Results>
{
for $x in //Row
return &lt;Result>{$x/ELEMENTLIVRAISON.TYPEBONPREPARATION/text()}&lt;/Result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <Result>RETOUR</Result>
  <Result>RETOUR</Result>
  <Result>RETOUR</Result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Acteurs=NetRetour ou Packager"><con:configuration><path>&lt;Results>
{
for $x in //Row
order by $x/ELEMENTLIVRAISON.TYPECONTRAT
return &lt;result>{$x/ELEMENTLIVRAISON.ACTEUR/text()}&lt;/result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <result>PACKAGER</result>
  <result>PACKAGER</result>
  <result>NETRETOUR</result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XPath Match" name="1 seul code Produit"><con:configuration><path>count(//Row[ELEMENTLIVRAISON.TYPEELEMENT="SERVICE"]/ELEMENTLIVRAISON.CODEPRODUIT/text())</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XQuery Match" name="1 seul code Colis"><con:configuration><path>count(//Row[ELEMENTLIVRAISON.TYPEELEMENT="BIEN"]/ELEMENTLIVRAISON.CODECOLIS/text())</path><content>&lt;xml-fragment>1&lt;/xml-fragment></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="delay" name="Wait for end Retour" id="aaadb5d7-4d3e-4cb4-8210-b344f1519344"><con:settings/><con:config><delay>2000</delay></con:config></con:testStep><con:testStep type="jdbc" name="Bon de Retour" id="4656be9d-8b41-49dc-b2f4-17760a6bda6c"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select date_format(dateinitiation, '%Y-%m-%d') as "datefinContrat", 
       idClient, typebonpreparation,
       datetermine
from bonpreparation
where reference = "re-${CreerContrat#RefContrat}"</con:query><con:assertion type="Simple Contains" name="Type BP = retour"><con:configuration><token>&lt;BONPREPARATION.TYPEBONPREPARATION>RETOUR&lt;/BONPREPARATION.TYPEBONPREPARATION></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Id Client"><con:configuration><token>&lt;BONPREPARATION.IDCLIENT>00003870&lt;/BONPREPARATION.IDCLIENT></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>&lt;DATEFINCONTRAT>${=new java.text.SimpleDateFormat("yyyy-MM-dd").format(new Date())}&lt;/DATEFINCONTRAT></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="goto" name="Go End Retour" id="5902bce0-5b9a-41d9-b8fd-14911b357a85"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Wait Facturation</con:name><con:type>XPATH</con:type><con:expression>not(//Results/ResultSet/Row/BONPREPARATION.DATETERMINE/text())</con:expression><con:targetStep>Wait for end Retour</con:targetStep></con:condition></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Création Contrat Impossible" searchProperties="true" id="a84bb25a-ff92-4a42-b43e-70bff7c06b01"><con:settings/><con:testStep type="groovy" name="SetRefCommande" id="dec95375-73c4-4b89-81b8-df200301ac22"><con:settings/><con:config><script>import static java.util.UUID.randomUUID
def tc = context.testCase
uuid = randomUUID().toString()
testRunner.testCase.setPropertyValue( "RefCommande", uuid )
log.info testRunner.testCase.getPropertyValue("RefCommande")</script></con:config></con:testStep><con:testStep type="properties" name="InfosContrat" id="ee422b9f-2703-4cf2-b114-fd109dd873ca"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>refContrat</con:name><con:value>719e046c</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="Preparer" id="4b8221e6-5ab5-4658-87f2-d767c96c198e"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Preparer" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "numeroCommande": "${#TestCase#RefCommande}",
      "label": "Abonnement jet 10Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent": "jet",
      "numeroCommande": "${#TestCase#RefCommande}",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "1",
      "refProduitParent": "jet",
      "numeroCommande": "${#TestCase#RefCommande}",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XQuery Match" name="Check Abonnement - Location - Vente" id="17bd5f18-997e-48e3-ab56-f6d733cb1aaf"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';

&lt;Results>
{
for $x in //ns1:sousContrats/ns1:e
order by $x/referenceProduit
return &lt;t>{$x/ns1:typeContrat/text()}&lt;/t>
}
&lt;/Results></path><content><![CDATA[<Results>
  <t>LOCATION</t>
  <t>ABONNEMENT</t>
  <t>ABONNEMENT</t>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Statut = PREPARER" id="1e1f7a6d-1b6b-4f9e-8722-dd4a95446a05"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';

&lt;Results>
{
for $x in //ns1:sousContrats/ns1:e
return &lt;result>{$x/ns1:statut/text()}&lt;/result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <result>PREPARER</result>
  <result>PREPARER</result>
  <result>PREPARER</result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfert Ref Contrat" id="47140ccf-3769-4c9c-a3ee-306eea5feba5"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>Ref Contrat</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Preparer</con:sourceStep><con:sourcePath>declare namespace nsa='http://10.100.109.32/contrat-core/contrat/preparer';
//nsa:reference</con:sourcePath><con:targetType>refContrat</con:targetType><con:targetStep>InfosContrat</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>Ref Contrat Global</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Preparer</con:sourceStep><con:sourcePath>declare namespace nsa='http://10.100.109.32/contrat-core/contrat/preparer';
//nsa:reference</con:sourcePath><con:targetType>RefContrat</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="jdbc" name="Contrat Prepare" id="df5bb315-c536-48e5-a6d6-ae0fd8f7ba57"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select * from contrat
where reference = "${InfosContrat#refContrat}"</con:query><con:assertion type="Simple Contains" name="DatePreparation is NOT NULL"><con:configuration><token>&lt;CONTRAT.DATEPREPARATION></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Reference Contrat"><con:configuration><path>&lt;Result>
{
for $i in //Row
return $i/CONTRAT.REFERENCE/string()
}
&lt;/Result></path><content>&lt;Result>${InfosContrat#RefContrat}&lt;/Result></content><allowWildcards>true</allowWildcards></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Valider" id="e126fdaf-65c1-452b-bff7-c6ffcc5c3d90"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Valider" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00003870",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": {"fraisCreation": "true"},
  "user" : "test"
}</con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="225bb281-95cc-4b1a-b41f-f58ba0cde373"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Response must be empty" id="2834c35a-5354-446f-be13-a5767c351412"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${InfosContrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>refContrat</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Politique Validation" id="3511e940-0068-4673-9f05-8016b376993d"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select *
from politiquevalidation
where contratId = 
  (select Id from contrat where reference = "${InfosContrat#refContrat}")</con:query><con:assertion type="Simple Contains" name="Frais Création = True"><con:configuration><token>&lt;POLITIQUEVALIDATION.FRAISCREATION>1&lt;/POLITIQUEVALIDATION.FRAISCREATION></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="delay" name="Wait for beginning Livraison" id="8b028781-a36c-4686-97a4-fd9ff2ddffd9"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="jdbc" name="Bon de Livraison - exists" id="19fbf5d4-84c0-4e86-9296-65491b483fa2"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select * from bonpreparation
where reference = "${InfosContrat#refContrat}"</con:query><con:properties/></con:config></con:testStep><con:testStep type="goto" name="Go Beginning Livraison" id="0a39b981-da3e-4752-b062-1dc8e23c3a0a"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Wait Facturation</con:name><con:type>XPATH</con:type><con:expression>not(//Results/ResultSet/Row/BONPREPARATION.DATEINITIATION/text())</con:expression><con:targetStep>Wait for beginning Livraison</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="jdbc" name="Elements de Livraison" id="fdc31b8b-3ccb-4102-9ff2-37e3e8bdb571"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select * from elementlivraison
where reference LIKE "${InfosContrat#refContrat}%"</con:query><con:assertion type="XQuery Match" name="Acteurs=NetDelivery ou Packager"><con:configuration><path>&lt;Results>
{
for $x in //Row
order by $x/ELEMENTLIVRAISON.TYPECONTRAT
return &lt;result>{$x/ELEMENTLIVRAISON.ACTEUR/text()}&lt;/result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <result>PACKAGER</result>
  <result>PACKAGER</result>
  <result>NETDELIVERY</result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Reference Contrat"><con:configuration><path>&lt;Results>
{
for $x in //Row
order by $x/ELEMENTLIVRAISON.REFERENCEPRODUIT
return &lt;result>{$x/ELEMENTLIVRAISON.REFERENCE/text()}&lt;/result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <result>${InfosContrat#refContrat}-1</result>
  <result>${InfosContrat#refContrat}-3</result>
  <result>${InfosContrat#refContrat}-2</result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="TypeEL=Livraison"><con:configuration><path>&lt;Results>
{
for $x in //Row
return &lt;Result>{$x/ELEMENTLIVRAISON.TYPEBONPREPARATION/text()}&lt;/Result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <Result>LIVRAISON</Result>
  <Result>LIVRAISON</Result>
  <Result>LIVRAISON</Result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="delay" name="Wait for end Livraison" id="4fbed5fd-e339-4766-a70e-348d6bfeb1fb"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="jdbc" name="Bon de Livraison" id="37abff22-258c-4dba-bacc-3fb206e9d2b6"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select * from bonpreparation
where reference = "${InfosContrat#refContrat}"</con:query><con:assertion type="XPath Match" name="Date Initiation"><con:configuration><path>exists(//Row/BONPREPARATION.DATEINITIATION)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="TypeBonPreparation=Livraison"><con:configuration><path>//Row/BONPREPARATION.TYPEBONPREPARATION</path><content>LIVRAISON</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="goto" name="Go Erreur Livraison" id="5f957ba9-8221-4b0a-8b39-339fddfae35b"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Wait Livraison</con:name><con:type>XPATH</con:type><con:expression>not(//Results/ResultSet/Row/BONPREPARATION.DATETERMINE/text())
and
not(//Results/ResultSet/Row/BONPREPARATION.CAUSENONLIVRAISON/text())</con:expression><con:targetStep>Wait for end Livraison</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="jdbc" name="Bon de Livraison - Erreur Livraison" id="7ee2d0f1-6f99-4a6f-b155-a63adaf597c3"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select * from bonpreparation
where reference = "${InfosContrat#refContrat}"</con:query><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>exists(//Results/ResultSet/Row/BONPREPARATION.CAUSENONLIVRAISON/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:loadTest name="Test Create" id="59072f1f-7c6a-4192-b8d8-535be93f4da2"><con:settings/><con:threadCount>50</con:threadCount><con:startDelay>0</con:startDelay><con:sampleInterval>250</con:sampleInterval><con:calculateTPSOnTimePassed>true</con:calculateTPSOnTimePassed><con:resetStatisticsOnThreadCountChange>true</con:resetStatisticsOnThreadCountChange><con:historyLimit>-1</con:historyLimit><con:testLimit>60</con:testLimit><con:limitType>TIME</con:limitType><con:loadStrategy><con:type>Simple</con:type></con:loadStrategy><con:assertion type="Step Status" name="Step Status"/><con:maxAssertionErrors>100</con:maxAssertionErrors><con:cancelExcessiveThreads>true</con:cancelExcessiveThreads><con:strategyInterval>500</con:strategyInterval></con:loadTest><con:properties><con:property><con:name>RefCommande</con:name><con:value>36c40628-97c8-4cff-b735-f655b403924a</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>719e046c</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Resiliation d'un contrat Non Livré" searchProperties="true" id="36045d62-80fd-4a20-b8e6-4c38bd9587c1"><con:settings/><con:testStep type="calltestcase" name="CreerContrat" id="b5cc13ea-eef3-4e13-851e-6aa72a1f6142"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>a84bb25a-ff92-4a42-b43e-70bff7c06b01</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>ab41d246-b03a-4a0c-88ec-432251653408</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>3fa9c154</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Resilier Contrat" id="b8df85d5-a525-41fe-b6a5-872dfe22746d"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Resilier Contrat" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : {
	"fraisResiliation": "true", 
	"montantResiliation" : "",
	"typeResiliation": "RIC", 
	"remboursement": "true",
	"montantDefini": "",
	"penalite": "true",
	"commentaire" : "this is a test"
	}
}</con:request><con:assertion type="Valid HTTP Status Codes" name="Code Retour 200" id="2801e0a0-c62f-4ed4-b0cb-a1844bef27bc"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Response must be empty" id="0e37ab3a-bdec-4319-b5eb-0eafedd47b55"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${CreerContrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Politique Resiliation" id="72c48d16-180a-494c-991c-df7fda9aa9c7"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select *
from politiqueresiliation
where id = 
  (select politiqueResiliationId from contrat where reference = "${CreerContrat#RefContrat}")</con:query><con:assertion type="Simple Contains" name="Commentaire"><con:configuration><token>&lt;POLITIQUERESILIATION.COMMENTAIRE>this is a test&lt;/POLITIQUERESILIATION.COMMENTAIRE></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Cascade=True"><con:configuration><token>&lt;POLITIQUERESILIATION.ENCASCADE>1&lt;/POLITIQUERESILIATION.ENCASCADE></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Contrat Resilie" id="1d5f5320-d8f1-4619-aead-5785041b7be2"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select date_format(c.datefincontrat, '%Y-%m-%d') as "datefinContrat" 
from contrat c
where c.reference = "${CreerContrat#RefContrat}"</con:query><con:assertion type="XQuery Match" name="Date Fin Contrat = Now()"><con:configuration><path>&lt;Results>
{
for $x in //Row
return &lt;result>{$x/DATEFINCONTRAT/text()}&lt;/result>
}
&lt;/Results></path><content>&lt;Results>
  &lt;result>${=new java.text.SimpleDateFormat("yyyy-MM-dd").format(new Date())}&lt;/result>
&lt;/Results></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="EC Resilie" id="62be9df7-e051-49bf-94a3-b1084a527141"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select date_format(c.datefincontrat, '%Y-%m-%d') as "datefinContrat" 
from elementcontractuel c
where c.reference LIKE "${CreerContrat#RefContrat}%"</con:query><con:assertion type="XQuery Match" name="Date Fin Contrat = Now()"><con:configuration><path>&lt;Results>
{
for $x in //Row
return &lt;result>{$x/DATEFINCONTRAT/text()}&lt;/result>
}
&lt;/Results></path><content><![CDATA[<Results>
  <result>${=new java.text.SimpleDateFormat("yyyy-MM-dd").format(new Date())}</result>
  <result>${=new java.text.SimpleDateFormat("yyyy-MM-dd").format(new Date())}</result>
  <result>${=new java.text.SimpleDateFormat("yyyy-MM-dd").format(new Date())}</result>
</Results>]]></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="delay" name="Wait for beginning Retour" id="66cfdfde-d83c-499c-bab2-faa3ec8b0138"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="jdbc" name="EL de retour" id="7d5e16bf-f751-4aa9-9130-f1ae68756da5"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select *
from elementlivraison
where reference LIKE "re-${CreerContrat#RefContrat}%"</con:query><con:assertion type="Simple Contains" name="No Result"><con:configuration><token>&lt;ResultSet fetchSize="0"/></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Bon de Retour" id="9a975b8b-e2ca-4ba1-a32f-94ee85443013"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.109.35:3306/topaze_qualif?user=interne_nn_dev&amp;password=boubafarci</con:connectionString><con:query>select date_format(dateinitiation, '%Y-%m-%d') as "datefinContrat", 
       idClient, typebonpreparation,
       datetermine
from bonpreparation
where reference = "re-${CreerContrat#RefContrat}"</con:query><con:assertion type="Simple Contains" name="No Result"><con:configuration><token>&lt;ResultSet fetchSize="0"/>
</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="delay" name="Wait for facturation" id="12253b2e-fed5-47da-a813-24090f0a18c8"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="jdbc" name="Mouvements" id="b6fa6c5b-ae34-4e7d-be94-bd79ea40171a"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.100.105.41:3306/test_saphir?user=test&amp;password=test</con:connectionString><con:query>select * from movement 
where accountId = '00003870'
  and billinggroup = "${#TestCase#RefCommande}"
 ;</con:query><con:properties/></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Reduction" searchProperties="true" id="4170f002-8abc-4606-a58c-744d5c534de8" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:description>TestCase generated for REST Resource [ajouterReduction] located at [/contrat-core/contrat/{refContrat}/ajouterReduction]</con:description><con:settings/><con:testStep type="calltestcase" name="Preparation" id="efcd039f-4e47-4598-a22d-6798d1e21bd4"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>bd34fbcc-8989-48c8-bbbf-c79bae194f2c</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>b9579e0b</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Creer Reduction 5€ sur contrat" id="ffb9a78c-ce67-4186-b1cb-d86deca8beca"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer Reduction 5€ sur contrat" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "EURO"
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="0c756b0e-da5d-4b82-a8c5-2cfbcab54afc"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Preparation2" id="565331a1-1337-4ccc-ba2d-fef7afdb5f58"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>68dab73b-9e72-403c-be1b-ea9b740a4a3c</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>6919bde5</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Creer Reduction 5€ sur contrat utilisable 3 fois" id="19bc356f-6aa4-4392-8940-84d9a6c6017f"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer Reduction 5€ sur contrat utilisable 3 fois" mediaType="application/json" postQueryString="false" id="5307c583-409c-450d-9a9c-3edfaaef0e30"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "EURO",
"nbUtilisationMax" : "3"
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="9471f6af-5ce1-471a-a6c6-71475b7578ad"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation2#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Preparation3" id="13757a30-d2eb-49bc-9e0f-3cede86e50bc"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>50b68a1a-4ae1-498e-a80d-5974aeaf9b28</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>eed13004</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Creer Reduction 5€ sur contrat utilisable pendant une période" id="1bc214f6-6936-469a-ae1c-4f9729409163"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer Reduction 5€ sur contrat utilisable pendant une période" mediaType="application/json" postQueryString="false" id="ae2ef9bb-b9dd-450c-92f1-78593147b82f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "EURO",
"dateDebut" : "2014-08-01",
"dateFin" : "2014-09-01"
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="daf397e1-ee59-4f19-9f96-ce2d54243dab"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation3#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Preparation4" id="38be7630-8df0-4439-a71f-38419bcbe064"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>98fcef9e-57c5-44eb-83c2-23549a4a153b</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>348be7d8</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Creer Reduction 5% sur contrat pendant une période" id="59242d67-41c0-4d41-b5d1-01d8c5abc864"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer Reduction 5% sur contrat pendant une période" mediaType="application/json" postQueryString="false" id="894d2edf-a858-4c40-9ec2-cae46fb7346b"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "POURCENTAGE",
"dateDebut" : "2014-08-01",
"dateFin" : "2014-09-01"
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="e422cb62-38c3-4841-8951-8c8a6cc27c82"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation4#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Preparation5" id="5927febf-7d29-4883-99bd-6981664fcaa0"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>695a45e6-f790-4e68-93a6-db1a7fa31cfb</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>83928fd0</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Creer Reduction 5% sur contrat utilisable 2 fois" id="c8dba974-e5e4-40c0-a5aa-a4f5f4f2e7ef"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer Reduction 5% sur contrat utilisable 2 fois" mediaType="application/json" postQueryString="false" id="a4321c13-49f7-4627-bc6f-74c006dd2678"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "POURCENTAGE",
"nbUtilisationMax" : "3"
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="add533e5-621f-4a9e-b661-b3e629b38d90"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Preparation6" id="5c6ef5bc-8409-4a8f-8984-26d681425791"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>a94da4ac-0c42-4197-89eb-edc043225458</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>f2e0d567</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Creer Reduction 5% sur contrat" id="25408003-9bf6-40fc-9e31-7290fa202c7a"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer Reduction 5% sur contrat" mediaType="application/json" postQueryString="false" id="fc77e092-8ebb-42e0-87c8-865abd497b56"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "POURCENTAGE"
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="90ae3b09-3f62-48c1-92eb-dd7ec38d01e6"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation6#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Preparation7" id="a304edba-3b1d-4c8f-98cc-d054c4317533"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>5a3ff8b8-251a-42ef-87ad-1f6c77607bef</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>aaaef66e</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Creer Réduction Frais de création" id="5337f653-dbe0-42ad-bcb2-fdca08c93647"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer Réduction Frais de création" mediaType="application/json" postQueryString="false" id="94da1623-685a-48f6-8aaf-4b3a4e9be482"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "typeReduction": "FRAIS",
  "valeur": "100",
  "typeValeur": "POURCENTAGE",
  "nbUtilisationMax": 1,
  "typeFrais": "CREATION"
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="298e4301-7120-46a3-bd38-17758992edcc"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation7#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Preparation8" id="087b0e2f-b545-4e3a-8a72-0c70577e312a"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>5c85a9c0-57ac-4e59-aea6-f175ec141148</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>d5627484</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Creer Réduction Frais de résiliation" id="648d754d-3895-4763-b17c-cb160ab50d4c"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer Réduction Frais de résiliation" mediaType="application/json" postQueryString="false" id="94da1623-685a-48f6-8aaf-4b3a4e9be482"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "FRAIS",
"typeFrais" : "RESILIATION",
"valeur" : "100",
"typeValeur" : "POURCENTAGE",
"nbUtilisationMax": 1
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="4658f94a-14c5-4446-85e5-f9086f81ebd5"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation8#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Preparation9" id="2c06c0af-f537-480c-a7aa-6c9d8dda5aa2"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>5f8adc74-ae4f-4ba0-b339-7fbec99ee4fd</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>f6dc1aa5</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Creer Réduction Frais de migration" id="80ffe776-7f48-4ea6-b1b1-e068794ceaee"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer Réduction Frais de migration" mediaType="application/json" postQueryString="false" id="94da1623-685a-48f6-8aaf-4b3a4e9be482"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "FRAIS",
"typeFrais" : "MIGRATION",
"valeur" : "100",
"typeValeur" : "POURCENTAGE",
"nbUtilisationMax": 1
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="29668bd5-26f3-4dfb-bb0d-e09a95fc77fb"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation9#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Preparation10" id="cc324609-e2fc-415f-ab93-a40df9cc547c"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>c0b526df-c304-4d5d-8127-08b3635d55b1</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>ed29a9a8</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Creer Reduction 1 mois gratuit sur contrat" id="6dd26da3-a41c-466b-84db-ac58ed66ca32"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer Reduction 1 mois gratuit sur contrat" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "1",
"valeur" : "1"
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="26622e39-42ab-453b-a229-82e4059145a9"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation10#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Preparation11" id="4671d8ea-090a-4ee4-9e7c-35bc705bdeb3"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>27deb46d-64bb-45c7-917a-5269801b34cf</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>fb69c315</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Creer Reduction 3 factures gratuites pour une période de 1 mois" id="a59728c7-be96-4d70-a492-d072257a5050"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer Reduction 3 factures gratuites pour une période de 1 mois" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "3",
"valeur" : "1"
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="4f4f82cf-5a67-412d-857f-0b949533dad7"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation11#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Préparer Contrat Jet"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Préparer Contrat Jet" mediaType="application/json" postQueryString="false" id="7e8cfe53-72a4-4424-beea-8afb9dc13250"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "numeroCommande": "12345",
      "label": "Abonnement jet 10Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "3",
        "typeTVA": "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "3",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "FACTURE",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="Reference Exists"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
exists(//ns1:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Move Infos Contrat"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="true" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RefContrat</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Préparer Contrat Jet</con:sourceStep><con:sourcePath>declare namespace nsa='http://10.100.109.32/contrat-core/contrat/preparer';
//nsa:reference</con:sourcePath><con:targetType>RefContrat</con:targetType><con:targetStep>InfosContrat</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="properties" name="InfosContrat"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>RefContrat</con:name><con:value>6ef5e76f</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="Creer Reduction 1 facture gratuite pour une période de 3 mois" id="a1343024-bd20-48e7-863b-18a01b566a2e"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer Reduction 1 facture gratuite pour une période de 3 mois" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "1",
"valeur" : "3"
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="14b70c79-449c-4b88-b2d2-7b84e165f5ec"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${InfosContrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite name="Error Message" id="b17e60ef-d58b-4cdf-ac39-0f11bf0538ed"><con:description>TestSuite generated for REST Service [http://10.100.109.32:8180]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OK - Preparation" searchProperties="true" id="e7072e2a-0fb9-4743-a447-c332f0ca0e94"><con:description>TestCase generated for REST Resource [Validation] located at [/contrat-core/contrat/{refContrat}/valider]</con:description><con:settings/><con:testStep type="groovy" name="SetRefCommande"><con:settings/><con:config><script>import static java.util.UUID.randomUUID
def tc = context.testCase
uuid = randomUUID().toString()
testRunner.testCase.setPropertyValue( "RefCommande", uuid )
log.info testRunner.testCase.getPropertyValue("RefCommande")</script></con:config></con:testStep><con:testStep type="restrequest" name="Préparer Contrat Jet"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Préparer Contrat Jet" mediaType="application/json" postQueryString="false" id="7e8cfe53-72a4-4424-beea-8afb9dc13250"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "numeroCommande": "${#TestCase#RefCommande}",
      "label": "Abonnement jet 10Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "${#TestCase#RefCommande}",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "${#TestCase#RefCommande}",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "FACTURE",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="Reference Exists"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
exists(//ns1:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Ref Commande"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:e[1]/ns1:numeroCommande</path><content>${#TestCase#RefCommande}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Move Infos Contrat"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>Ref Contrat Test Case</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Préparer Contrat Jet</con:sourceStep><con:sourcePath>declare namespace nsa='http://10.100.109.32/contrat-core/contrat/preparer';
//nsa:reference</con:sourcePath><con:targetType>RefContrat</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:properties><con:property><con:name>RefCommande</con:name><con:value>e54f4e70-a2d3-4ac5-ad4f-6047527e63ef</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>f34e018b</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="OK - Preparation - Validation" searchProperties="true" id="3d1406c1-6558-4539-a011-8394a232a260" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:description>TestCase generated for REST Resource [Validation] located at [/contrat-core/contrat/{refContrat}/valider]</con:description><con:settings/><con:testStep type="calltestcase" name="Preparation"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>e54f4e70-a2d3-4ac5-ad4f-6047527e63ef</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>f34e018b</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Validation"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Validation" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Move Ref Contrat"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>RefContrat</con:name><con:sourceType>RefContrat</con:sourceType><con:sourceStep>Preparation</con:sourceStep><con:targetType>RefContrat</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:properties><con:property><con:name>RefCommande</con:name><con:value>bfeb4724-038b-46e4-b744-12d9fc1900a6</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>f34e018b</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Preparation TestCase" searchProperties="true" id="0229c34c-a6e2-45b0-a1aa-9d0f33f08234" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:description>TestCase generated for REST Resource [Preparation] located at [/contrat-core/contrat/preparer]</con:description><con:settings/><con:testStep type="restrequest" name="Frais de Résil dégressif incohérent"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Preparer" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "numeroCommande": "12345",
      "label": "Abonnement jet 10Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "2",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "3",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>1.1.46</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="EC Fils avec EC Parent inconnu"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Ref Parent inconnu" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "3",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>1.1.70</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Numéro de Commande"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Copy of Frais de Résil dégressif incohérent" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "label": "Abonnement jet 10Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "3",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>0.1.1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>un des paramÃ¨tres est mal formatÃ© : Produit.numeroCommande.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Label"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Label" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "numeroCommande": "12345",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "3",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>0.1.1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>un des paramÃ¨tres est mal formatÃ© : Produit.label.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans TypeProduit"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans TypeProduit" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "label": "Abonnement jet 10Go",
      "numeroCommande": "12345",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>Produit.typeProduit ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Prix.Montant"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Prix.Montant" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "label": "Abonnement jet 10Go",
      "numeroCommande": "12345",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>0.1.1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>un des paramÃ¨tres est mal formatÃ© : Prix.montant.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Prix.periodicite"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Prix.periodicite" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "label": "Abonnement jet 10Go",
      "numeroCommande": "12345",
      "typeProduit": "SERVICE",
      "prix": {
        "typeTVA": "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
exists(//ns1:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Prix.typeTVA"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Prix.typeTVA" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "label": "Abonnement jet 10Go",
      "numeroCommande": "12345",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>Prix.typeTVA ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Prix.modePaiement"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Prix.modePaiement" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "label": "Abonnement jet 10Go",
      "numeroCommande": "12345",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA" : "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>Prix.modePaiement ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Prix.modeFacturation"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Prix.modeFacturation" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "label": "Abonnement jet 10Go",
      "numeroCommande": "12345",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA" : "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>Prix.modeFacturation ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans reference"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans reference" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "numEC" : "1",
      "label": "Abonnement jet 10Go",
      "numeroCommande": "12345",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA" : "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation" : "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>0.1.1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>un des paramÃ¨tres est mal formatÃ© : Produit.reference.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans numEC"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans numEC" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference" : "jet",
      "label": "Abonnement jet 10Go",
      "numeroCommande": "12345",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA" : "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation" : "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>1.1.68</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>Le numero d'element contractuel pour le produit jet ne doit pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Prix.Frais.Montant"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Prix.Frais.Montant" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference" : "jet",
      "numEC" : "1",
      "label": "Abonnement jet 10Go",
      "numeroCommande": "12345",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA" : "R",
        "montant": "30",
        "frais": [
          {
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation" : "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>Frais.montant ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Prix.Frais.typeFrais"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Prix.Frais.typeFrais" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference" : "jet",
      "numEC" : "1",
      "label": "Abonnement jet 10Go",
      "numeroCommande": "12345",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA" : "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation" : "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>Frais.typeFrais ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Frais de Résil dégressif sans ordre"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Frais de Résil dégressif sans ordre" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "numeroCommande": "12345",
      "label": "Abonnement jet 10Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "30",
        "frais": [
          {
            "montant": "30",
            "typeFrais": "creation"
          }
        ],
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "2",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "3",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>1.1.44</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Error Message"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>Tous les frais de resiliation doivent avoir un ordre.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="User Vide"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="User" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "",
 "produits": [
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>1.1.72</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Error Message"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>Un élément fils ne peut pas être son propre parent</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Produits Vide"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Produits Vide" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
  ]
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>0.0.14</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Error Message"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>Un contrat doit être défini par des produits</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="EC Fils = EC Parent"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="EC Fils = EC Parent" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "2",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>1.1.72</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="Error Message"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>Un élément fils ne peut pas être son propre parent</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Prix"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/preparer" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Prix" mediaType="application/json" postQueryString="false" id="01ddc01d-d8f6-43f9-ac4f-bda76da58129"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
 "user": "test",
 "produits": [
{
      "reference": "jet",
      "numEC" : "1",
      "label": "Abonnement jet 10Go",
      "numeroCommande": "12345",
      "typeProduit": "SERVICE",
    },
    {
      "reference": "option.plus.50g",
      "numEC" : "2",
      "numECParent": "1",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Option+ 50Go",
      "typeProduit": "SERVICE",
      "prix": {
        "periodicite": "1",
        "typeTVA": "R",
        "montant": "50",
        "frais": [
          {
            "montant": "50",
            "typeFrais": "resiliation",
            "nombreMois": "12",
            "ordre": "1"
          },
          {
            "montant": "30",
            "typeFrais": "resiliation",
            "ordre": "2"
          }
        ],
        "modePaiement": "CB",
        "modeFacturation": "PREMIER_MOIS"
      }
    },
    {
      "reference": "kit-sat",
      "numEC" : "3",
      "numECParent": "3",
      "refProduitParent" : "jet",
      "numeroCommande": "12345",
      "label": "Kit Satellite Jet",
      "typeProduit": "BIEN",
      "prix": {
        "engagement" : "24",
        "duree" : "48",
        "periodicite" : "3",
        "typeTVA": "R",
        "montant": "30",
        "modePaiement": "SEPA",
        "modeFacturation": "PREMIER_MOIS"
      }
    }
  ]
}</con:request><con:assertion type="XPath Match" name="Error Code"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:url</path><content>/contrat-core/contrat/preparer</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/preparer';
//ns1:errorMessage</path><content>Produit.typeProduit ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Validation TestCase" searchProperties="true" id="f440a06c-4f11-4e56-9ccb-6e865e283596" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="calltestcase" name="Preparation Contrat"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>ca9987d4-13b0-4cb6-ada3-29a587794a63</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>721959f3</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Validation incomplète"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans idClient" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>1.1.31</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>Les mÃªme numeros d'element contractuel et RÃ©fÃ©rences  utilisÃ©es lors de la preparation doivent Ãªtre utilisÃ©es lors de validation.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Validation incohérente : NumEC &lt;> referenceProduit"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Validation incohérente : NumEC &lt;> referenceProduit" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>1.1.31</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>Les mÃªme numeros d'element contractuel et RÃ©fÃ©rences  utilisÃ©es lors de la preparation doivent Ãªtre utilisÃ©es lors de validation.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Validation vide"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Validation vide" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>1.1.7</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>Pas des information de validation.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans idClient"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Validation incomplète" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
    ,
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>0.1.1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>un des paramÃ¨tres est mal formatÃ© : Contrat.idClient.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans idAdrFacturation"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans idAdrFacturation" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient" : "00161",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
    ,
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>0.1.1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>un des paramÃ¨tres est mal formatÃ© : Contrat.idAdrFacturation.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans paiementInfos"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans paiementInfos" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient" : "00161",
  "idAdrFacturation": "685",
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>1.1.7</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>Pas des information de validation.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans politiqueValidation"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans politiqueValidation" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient" : "00161",
  "idAdrFacturation" : "167",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
    ,
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ]
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>1.1.17</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>La politique de validation est obligatoire.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans paiementsInfos.referenceProduit"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans paiementsInfos.referenceProduit" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>1.1.31</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>Les mÃªme numeros d'element contractuel et RÃ©fÃ©rences  utilisÃ©es lors de la preparation doivent Ãªtre utilisÃ©es lors de validation.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans paiementsInfos.NumEC"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans paiementsInfos.NumEC" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>1.1.31</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>Les mÃªme numeros d'element contractuel et RÃ©fÃ©rences  utilisÃ©es lors de la preparation doivent Ãªtre utilisÃ©es lors de validation.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans paiementsInfos.referenceModePaiement"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans paiementsInfos.referenceModePaiement" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>1.1.37</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>la RÃ©fÃ©rence de Mode paiement est obligatoire seulement pour le mode de paiement de type CB ou SEPA ou FACTURE.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Avec politique.vide"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Avec politique.vide" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>1.1.5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>Les mÃªme numeros d'element contractuel et RÃ©fÃ©rences  utilisÃ©es lors de la preparation doivent Ãªtre utilisÃ©es lors de validation.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans politique.checkIsPackagerCreationPossible"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans politique.checkIsPackagerCreationPossible" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation" : true
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>1.1.5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>Les mÃªme numeros d'element contractuel et RÃ©fÃ©rences  utilisÃ©es lors de la preparation doivent Ãªtre utilisÃ©es lors de validation.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans politique.fraisCreation"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Politique mal adressée" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>1.1.31</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>Les mÃªme numeros d'element contractuel et RÃ©fÃ©rences  utilisÃ©es lors de la preparation doivent Ãªtre utilisÃ©es lors de validation.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans paiementsInfos.idAdrLivraison"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans paiementsInfos.idAdrLivraison" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:url</path><content>/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorCode</path><content>1.1.31</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation Contrat#RefContrat}/valider';
//ns1:errorMessage</path><content>Les mÃªme numeros d'element contractuel et RÃ©fÃ©rences  utilisÃ©es lors de la preparation doivent Ãªtre utilisÃ©es lors de validation.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Validation cohérente : Pas de RefModePaiement pour un produit de Type Facture"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Validation incohérente :" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Response must be empty"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation Contrat#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Resiliation Totale TestCase" searchProperties="true" id="cf801751-1e75-4bde-9b52-1778ad30799b"><con:description>TestCase generated for REST Resource [Resiliation] located at [/contrat-core/contrat/{refContrat}/resilier]</con:description><con:settings/><con:testStep type="calltestcase" name="Preparation"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>52d44cab-bbc0-47cf-b37e-651761652374</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>0c305bd4</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Sans Validation préalable"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Resiliation Totale" mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"fraisResiliation": "true", 
		"montantResiliation" : "50",
		"typeResiliation": "RIC", 
		"remboursement": "true",
		"montantDefini" : "50",
		"penalite": "true",
		"dateResiliation" : null,
		"commentaire" : null
	}
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/resilier</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorCode</path><content>1.1.41</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorMessage</path><content>Resiliation Impossible: Un contrat non validÃ© ne peut pas Ãªtre rÃ©siliÃ©.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Validation"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Validation Complète" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Response must be empty"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Politique"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Politique" mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/resilier</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorCode</path><content>1.1.17</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorMessage</path><content>La politique de rÃ©siliation est obligatoire.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Politique.typeResiliation"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Politique.typeResiliation" mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"remboursement": "true",
		"penalite": "true"
	}
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/resilier</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorCode</path><content>0.1.1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorMessage</path><content>un des paramÃ¨tres est mal formatÃ© : PolitiqueResiliation.typeResiliation.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Avec Date Resiliation &lt; Now"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Avec Date Resiliation &lt; Now" mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"fraisResiliation": "true", 
		"montantResiliation" : "50",
		"typeResiliation": "RIC", 
		"remboursement": "true",
		"montantDefini" : "50",
		"penalite": "true",
		"dateResiliation" : "2013-08-11",
		"commentaire" : null
	}
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/resilier</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorCode</path><content>1.1.41</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorMessage</path><content>Resiliation Impossible: Un contrat non validÃ© ne peut pas Ãªtre rÃ©siliÃ©.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans politique.Remboursement MAIS avec montantDefini"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans politique.Remboursement MAIS avec montantDefini" mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"typeResiliation": "RIC", 
		"montantDefini" : "50",
		"penalite": "true",
		"dateResiliation" : null,
		"commentaire" : ""
	}
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/resilier</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorCode</path><content>1.1.41</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorMessage</path><content>Resiliation Impossible: Un contrat non validÃ© ne peut pas Ãªtre rÃ©siliÃ©.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans politique.FraisResiliation MAIS avec montantResiliation"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans politique." mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"montantResiliation" : "50",
		"typeResiliation": "RIC", 
		"remboursement": "true",
		"montantDefini" : "",
		"penalite": "true",
		"dateResiliation" : null,
		"commentaire" : ""
	}
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/resilier</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorCode</path><content>1.1.41</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorMessage</path><content>Resiliation Impossible: Un contrat non validÃ© ne peut pas Ãªtre rÃ©siliÃ©.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans User"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans User" mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "",
"politiqueResiliation" : 
	{
		"fraisResiliation": "true", 
		"montantResiliation" : "50",
		"typeResiliation": "RIC", 
		"remboursement": "true",
		"penalite": "true"
	}
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/resilier</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorCode</path><content>1.1.41</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorMessage</path><content>Resiliation Impossible: Un contrat non validÃ© ne peut pas Ãªtre rÃ©siliÃ©.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Resiliation Partielle TestCase" searchProperties="true" id="55829737-1ffb-4c02-8fe5-5327d0392de7"><con:description>TestCase generated for REST Resource [Resiliation Partielle] located at [/contrat-core/contrat/{refContrat}/partiel/{refProduit}/resilier]</con:description><con:settings/><con:testStep type="calltestcase" name="Preparation"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>e1714d3d-b109-4e4b-b3d9-19d8157f63ab</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>075ed439</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Sans Validation préalable"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Validation préalable" mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"fraisResiliation": "true", 
		"montantResiliation" : "50",
		"typeResiliation": "RIC", 
		"remboursement": "true",
		"montantDefini" : "50",
		"penalite": "true",
		"dateResiliation" : null,
		"commentaire" : null
	}
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/resilier</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorCode</path><content>1.1.41</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorMessage</path><content>Resiliation Impossible: Un contrat non validÃ© ne peut pas Ãªtre rÃ©siliÃ©.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Validation"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/valider" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Copy of" mediaType="application/json" postQueryString="false" id="61e5a8b8-9e0b-49d7-a9ba-078986cdcc50"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
  "idClient": "00131",
  "idAdrFacturation": "685",
  "paiementInfos": [
    {
      "referenceProduit": "jet",
      "numEC" : "1",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "option.plus.50g",
      "numEC" : "2",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    },
    {
      "referenceProduit": "kit-sat",
      "numEC" : "3",
      "referenceModePaiement": "R0000012",
      "idAdrLivraison": "adrliv1"
    }
  ],
  "politiqueValidation": 
  {
  	"fraisCreation": "true",
  	"checkIsPackagerCreationPossible" : "true"
  }
}</con:request><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Response must be empty"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Produit Inconnu"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/partiel/{refProduit}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Resiliation Partielle" mediaType="application/json" postQueryString="false" id="8eceb09f-8db3-49fc-93fc-3b0998c3f17f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"fraisResiliation": "true", 
		"montantResiliation" : "50",
		"typeResiliation": "RIC", 
		"remboursement": "true",
		"penalite": "true"
	}
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/partiel/kit-jet/resilier';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/partiel/kit-jet/resilier</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="ErrorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/partiel/kit-jet/resilier';
//ns1:errorCode</path><content>1.1.1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="ErrorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/partiel/kit-jet/resilier';
//ns1:errorMessage</path><content>Reference de Produit kit-jet n'est pas associe a aucun sous Contrat.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refContrat" value="${Preparation#RefContrat}"/>
  <con:entry key="refProduit" value="kit-jet"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans User"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/partiel/{refProduit}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans User" mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"politiqueResiliation" : 
	{
		"fraisResiliation": "true", 
		"montantResiliation" : "50",
		"typeResiliation": "RIC", 
		"remboursement": "true",
		"penalite": "true"
	}
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/partiel/jet/resilier';
//ns1:errorCode</path><content>1.1.2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refContrat" value="${Preparation#RefContrat}"/>
  <con:entry key="refProduit" value="075ed439-2"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Date Resiliation &lt; Now"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/partiel/{refProduit}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Date Resiliation &lt; Now" mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"fraisResiliation": "true", 
		"montantResiliation" : "50",
		"typeResiliation": "RIC", 
		"remboursement": "true",
		"montantDefini" : "50",
		"penalite": "true",
		"dateResiliation" : "2013-08-11",
		"commentaire" : null
	}
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/resilier</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorCode</path><content>1.1.41</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorMessage</path><content>Resiliation Impossible: Un contrat non validÃ© ne peut pas Ãªtre rÃ©siliÃ©.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans politique.Remboursement MAIS avec montantDefini"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/partiel/{refProduit}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans politique.Remboursement MAIS avec montantDefini" mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"typeResiliation": "RIC", 
		"montantDefini" : "50",
		"penalite": "true",
		"dateResiliation" : null,
		"commentaire" : ""
	}
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/resilier</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorCode</path><content>1.1.41</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorMessage</path><content>Resiliation Impossible: Un contrat non validÃ© ne peut pas Ãªtre rÃ©siliÃ©.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refContrat" value="${Preparation#RefContrat}"/>
  <con:entry key="refProduit" value="jet"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans politique.FraisResiliation MAIS avec montantResiliation"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/partiel/{refProduit}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans politique.FraisResiliation MAIS avec montantResiliation" mediaType="application/json" postQueryString="false" id="39c3f79f-e72c-4bd5-acfe-614a9d4e5b15"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : 
	{
		"montantResiliation" : "50",
		"typeResiliation": "RIC", 
		"remboursement": "true",
		"montantDefini" : "",
		"penalite": "true",
		"dateResiliation" : null,
		"commentaire" : ""
	}
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/resilier</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorCode</path><content>1.1.41</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/resilier';
//ns1:errorMessage</path><content>Resiliation Impossible: Un contrat non validÃ© ne peut pas Ãªtre rÃ©siliÃ©.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refContrat" value="${Preparation#RefContrat}"/>
  <con:entry key="refProduit" value="jet"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Reduction Test Case" searchProperties="true" id="8006c37b-d6d7-4f61-b843-090809972df3" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="calltestcase" name="Preparation"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>bfeb4724-038b-46e4-b744-12d9fc1900a6</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>a2f3e422</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Valeur Mois > Périodicité"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Reduction 1 facture gratuite pour une période de 3 mois" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "1",
"valeur" : "3"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.56</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>La valeur de reduction ne doit pas etre superieur au minimum des periodicites dans un contrat.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Type Reduction Inconnu"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Type Reduction Inconnu" mediaType="application/json" postQueryString="false" id="94da1623-685a-48f6-8aaf-4b3a4e9be482"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "ELEMENT_CONTRACTUEL",
"valeur" : "100",
"typeValeur" : "POURCENTAGE",
"nbUtilisationMax": 1
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.1.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Type de réduction inconnu </content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans typeReduction"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans typeReduction" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeValeur" : "MOIS",
"nbUtilisationMax" : "1",
"valeur" : "3"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.56</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>La valeur de reduction ne doit pas etre superieur au minimum des periodicites dans un contrat.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Type Frais Inconnu"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Réduction Frais Inconnu" mediaType="application/json" postQueryString="false" id="94da1623-685a-48f6-8aaf-4b3a4e9be482"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "FRAIS",
"typeFrais" : "INCONNU",
"valeur" : "100",
"typeValeur" : "POURCENTAGE",
"nbUtilisationMax": 1
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.1.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Type de frais inconnu </content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Type Frais"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Type Frais" mediaType="application/json" postQueryString="false" id="94da1623-685a-48f6-8aaf-4b3a4e9be482"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "FRAIS",
"valeur" : "100",
"typeValeur" : "POURCENTAGE",
"nbUtilisationMax": 1
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.1.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Type de frais inconnu </content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Valeur"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Valeur Mois > Périodicité" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "1"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Reduction.valeur ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans typeValeur"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans typeValeur" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"nbUtilisationMax" : "1",
"valeur" : "3"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>0.1.1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>un des paramÃ¨tres est mal formatÃ© : Reduction.typeValeur.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Type Valeur Inconnu"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Type Valeur Inconnu" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur": "FRAIS",
"nbUtilisationMax" : "1",
"valeur" : "3"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>0.1.1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>un des paramÃ¨tres est mal formatÃ© : Reduction.typeValeur.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Pourcentage > 100"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Pourcentage > 100" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "POURCENTAGE",
"nbUtilisationMax" : "1",
"valeur" : "150"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.53</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Pour une valeur de reduction de type POURCENTAGE la valeur doit etre comprise entre 0 et 100.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Pourcentage = 0"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Pourcentage = 0" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "POURCENTAGE",
"nbUtilisationMax" : "1",
"valeur" : "0"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.53</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Pour une valeur de reduction de type POURCENTAGE la valeur doit etre comprise entre 0 et 100.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Pourcentage &lt; 0"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Pourcentage &lt; 0" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "POURCENTAGE",
"nbUtilisationMax" : "1",
"valeur" : "-50"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.53</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Pour une valeur de reduction de type POURCENTAGE la valeur doit etre comprise entre 0 et 100.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Valeur Mois &lt; 0"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Valeur Mois &lt; 0" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "1",
"valeur" : "-1"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.51</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Pour une valeur de reduction de type MOIS la valeur doit etre un entier superieur a zero.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Valeur Euro &lt; 0"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Valeur Euro &lt; 0" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "EURO",
"nbUtilisationMax" : "1",
"valeur" : "-50"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.52</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Pour une valeur de reduction de type EURO la valeur doit etre superieur a zero.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Valeur Mois = 0"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Valeur Mois = 0" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "1",
"valeur" : "0"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.51</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Pour une valeur de reduction de type MOIS la valeur doit etre un entier superieur a zero.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Valeur Euro = 0"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Valeur Euro = 0" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "EURO",
"nbUtilisationMax" : "1",
"valeur" : "0"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.52</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Pour une valeur de reduction de type EURO la valeur doit etre superieur a zero.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Sans Date Debut mais Avec Date Fin"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sans Date Debut mais Avec Date Fin" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "EURO",
"dateFin": "2014-12-31",
"valeur" : "50"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.60</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Period Reduction invalide date debut reduction doit Ãªtre avant la date fin reduction.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Date Debut > Date Fin"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Date Debut > Date Fin" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "EURO",
"dateDebut": "2015-12-31",
"dateFin": "2014-12-31",
"valeur" : "50"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.60</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Period Reduction invalide date debut reduction doit Ãªtre avant la date fin reduction.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="nbUtilisationMax = 0"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="nbUtilisationMax = 0" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "0",
"valeur" : "1"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>0.1.10</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Reduction.NbUtilisationMax ne peut pas etre zero ou negatif.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="nbUtilisationMax &lt; 0"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="nbUtilisationMax &lt; 0" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "-1",
"valeur" : "1"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>0.1.10</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Reduction.NbUtilisationMax ne peut pas etre zero ou negatif.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Date au mauvais format"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Date au mauvais format" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "EURO",
"dateDebut": "2014-12-31",
"valeur" : "50"
}</con:request><con:assertion type="Valid HTTP Status Codes" name="Error Code = 400"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Date Fin &lt; Now"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Date Debut &lt; Now" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeValeur" : "EURO",
"dateDebut": "2013-02-31",
"dateFin" : "2013-12-31",
"valeur" : "50"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.60</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>Period Reduction invalide date debut reduction doit Ãªtre avant la date fin reduction.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="TypeReduc = &quot;CONTRAT&quot; et TypeFrais = &quot;CREATION&quot;"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="TypeReduc = &quot;CONTRAT&quot; et TypeFrais = &quot;CREATION&quot;" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"typeFrais" : "CREATION",
"typeValeur" : "MOIS",
"nbUtilisationMax" : "1",
"valeur" : "1"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.56</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>La valeur de reduction ne doit pas etre superieur au minimum des periodicites dans un contrat.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Deux réductions de même type" searchProperties="true" id="269a54ba-ed65-406b-836b-73bd1323bc69"><con:settings/><con:testStep type="calltestcase" name="Preparation"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>e7072e2a-0fb9-4743-a447-c332f0ca0e94</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>7776e1df-9f8c-4435-a5ec-ebaa7a51824c</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>e79614dd</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Reduction"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Reduction" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "EURO",
"nbUtilisationMax" : "1"
}</con:request><con:assertion type="GroovyScriptAssertion" name="No Msg Return" id="0c756b0e-da5d-4b82-a8c5-2cfbcab54afc"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Reduction 2"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Reduction 2" mediaType="application/json" postQueryString="false" id="5a84cfa0-6f4d-4d77-869b-55bdf18fe011"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "EURO",
"nbUtilisationMax": "1"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content>/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content>1.1.50</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content>L'element de reference ${Preparation#RefContrat} a deja une reduction.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Preparation#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Réduction valide après Date de résiliation" searchProperties="true" id="c5c3b05b-d55d-42e0-a898-5c3f86cc64c9"><con:settings/><con:testStep type="groovy" name="SetNow+7"><con:settings/><con:config><script>import groovy.time.TimeCategory

def today = new Date()

use(TimeCategory) {
	def DateResilStr = new java.text.SimpleDateFormat("yyyy-MM-dd").format(today + 7.day)
	def DateReducStr = new java.text.SimpleDateFormat("yyyy-MM-dd").format(today + 15.day)
	
	testRunner.testCase.setPropertyValue("DateResil", DateResilStr )
	testRunner.testCase.setPropertyValue("DateReduc", DateReducStr )
	
//	log.info testRunner.testCase.getPropertyValue("DateFuture")
}</script></con:config></con:testStep><con:testStep type="calltestcase" name="Prepa + Valid"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyLoadTestProperties="false" ignoreEmptyProperties="false" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>3d1406c1-6558-4539-a011-8394a232a260</con:targetTestCase><con:properties><con:property><con:name>RefCommande</con:name><con:value>bfeb4724-038b-46e4-b744-12d9fc1900a6</con:value></con:property><con:property><con:name>RefContrat</con:name><con:value>f34e018b</con:value></con:property></con:properties><con:returnProperties><con:entry>RefCommande</con:entry><con:entry>RefContrat</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Resiliation Totale Future"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/resilier" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Resiliation Totale" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"user" : "test",
"politiqueResiliation" : {
     "dateResiliation" : "${#TestCase#DateResil}",
	"fraisResiliation": "true", 
	"montantResiliation" : "",
	"typeResiliation": "RIC", 
	"remboursement": "true",
	"montantDefini": "",
	"penalite": "true",
	"commentaire" : "Test Reduction valide apres Date de resiliation"
	}
}</con:request><con:assertion type="Valid HTTP Status Codes" name="Code Retour 200" id="20b95fed-f66f-4685-bce1-6e0a1d92ffad"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Response must be empty" id="6ca1ddfa-7b0f-48d8-b5fa-1642229ad752"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Prepa + Valid#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Reduction"><con:settings/><con:config service="http://10.100.109.32:8180" resourcePath="/contrat-core/contrat/{refContrat}/ajouterReduction" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Reduction" mediaType="application/json" postQueryString="false" id="5307c583-409c-450d-9a9c-3edfaaef0e30"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.100.109.32:8180</con:endpoint><con:request>{
"typeReduction" : "CONTRAT",
"valeur" : "5",
"typeValeur" : "EURO",
"nbUtilisationMax" : "3",
"dateDebut" : "${#TestCase#DateReduc}"
}</con:request><con:assertion type="XPath Match" name="URL"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:url</path><content/><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorCode</path><content/><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>declare namespace ns1='http://10.100.109.32/contrat-core/contrat/${Preparation#RefContrat}/ajouterReduction';
//ns1:errorMessage</path><content/><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${Prepa + Valid#RefContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>DateFuture</con:name><con:value>2014-08-18</con:value></con:property><con:property><con:name>DateResil</con:name><con:value>2014-08-18</con:value></con:property><con:property><con:name>DateReduc</con:name><con:value>2014-08-26</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:sensitiveInformation/></con:soapui-project>